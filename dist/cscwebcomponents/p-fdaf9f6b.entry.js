import{r as t,c as i,h as a,F as e,H as s,g as r}from"./p-d0418cc2.js";import{l as n,n as d,g as o,o as l,p as h,q as c}from"./p-5b81ca3e.js";const b=":host{--csc-border-radius:4px;--csc-dark-grey:rgb(89, 89, 89);--csc-error:#e71d32;--csc-font-family:'museo-sans', sans-serif;--csc-light-grey:rgb(223, 225, 227);--csc-light-grey-blue:rgb(204, 244, 240);--csc-lightest-grey:rgba(223, 225, 227, 0.5);--csc-link:#025B97;--csc-mid-grey:rgb(140, 140, 140);--csc-primary:rgb(0, 103, 120);--csc-primary-ghost:rgba(0, 103, 120, 0.15);--csc-primary-ghost-hover:rgba(0, 103, 120, 0.25);--csc-primary-hover:rgb(80, 151, 141);--csc-primary-text-hover:rgba(0, 103, 120, 0.15);--csc-success:#51a808;--csc-warning:#ff5800}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}.md-ripple{display:block;position:absolute;pointer-events:none;border-radius:50%;transform:scale(0);background:currentColor;opacity:0.3}.md-ripple.animate{animation:mdRipple 0.7s backwards linear}:host{font-family:var(--csc-font-family)}@keyframes mdRipple{100%{opacity:0;transform:scale(2.5)}}::-ms-reveal{display:none}:host{display:block;position:relative;width:100%}:host([horizontal-scrolling]){overflow-x:scroll}table,caption,tbody,tfoot,thead,tr,th,td{border:0;font-size:100%;font:inherit;margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}.c-data-table{box-shadow:inset 0 0 0 1px var(--csc-light-grey);width:100%}.c-data-table .children{display:flex;flex-wrap:wrap;gap:4px;width:100%}.c-data-table .children pre{font-family:inherit;white-space:pre-wrap}.c-data-table [data-justify=end],.c-data-table [data-align=end] .children{align-items:flex-end}.c-data-table [data-justify=start],.c-data-table [data-align=start] .children{align-items:flex-start}.c-data-table [data-justify=center],.c-data-table [data-align=center] .children{align-items:center}.c-data-table [data-align=end],.c-data-table [data-justify=end] .children{justify-content:flex-end}.c-data-table [data-align=start],.c-data-table [data-justify=start] .children{justify-content:flex-start}.c-data-table [data-align=center],.c-data-table [data-justify=center] .children{justify-content:center}.c-data-table th,.c-data-table td{font-weight:400}.c-data-table th>div,.c-data-table td>div{align-items:center;box-sizing:border-box;display:flex;line-height:1;padding:12px;width:100%}.c-data-table th{font-size:14px;padding:4px}.c-data-table th.selection{width:56px}.c-data-table th.indicator{width:46px}.c-data-table th>div{border-radius:4px;flex-wrap:nowrap;gap:8px;height:48px;white-space:nowrap}.c-data-table th>div.sortable:hover{background-color:var(--csc-primary-text-hover);color:var(--csc-primary);cursor:pointer}.c-data-table th>div.sortable:hover svg{fill:var(--csc-primary)}.c-data-table th>div.selection--heading{padding-left:8px;padding-right:0;margin-right:-8px}.c-data-table td{font-size:16px}.c-data-table td>div{align-items:flex-start;flex-direction:column;gap:8px;justify-content:center;min-height:56px;padding:12px}.c-data-table td>div.selection{margin-right:-4px;padding:7px 0 7px 12px}.c-data-table td>div c-tag{--c-tag-margin:0px}.c-data-table td.loader{background-color:var(--csc-light-grey);height:2px;position:relative}.c-data-table td.loader>div{height:2px;min-height:auto;padding:0}.c-data-table td.info>div{height:108px;justify-content:center}.c-data-table td svg{transition:transform 0.3s cubic-bezier(0.25, 0.8, 0.5, 1)}.c-data-table thead{background-color:#fff;position:relative}.c-data-table thead.sticky{box-shadow:0 2px 0 0 var(--csc-light-grey);position:sticky;top:0;z-index:3}.c-data-table thead .c-data-table__header-indicators{pointer-events:none}.c-data-table thead .c-data-table__header-indicators th>div{margin-top:-56px;display:flex;justify-items:space-between}.c-data-table thead .c-data-table__header-indicators c-icon-button{background-color:rgba(255, 255, 255, 0.75);border-radius:50%;pointer-events:all}.c-data-table tfoot{background-color:#fff}.c-data-table tfoot tr{box-shadow:inset 0 1px 0 0 var(--csc-light-grey)}.c-data-table tfoot td>div{align-items:center;flex-direction:row;justify-content:flex-start;min-height:48px}.c-data-table tfoot td c-pagination{flex:1}.c-data-table tbody{}@supports (-webkit-hyphens: none){.c-data-table tbody tr{border-bottom:1px solid var(--csc-light-grey)}}.c-data-table tbody tr{box-shadow:inset 0 1px 0 0 var(--csc-light-grey)}.c-data-table tbody tr.actions{box-shadow:none}.c-data-table tbody tr.actions td>div{background-color:rgba(0, 0, 0, 0.015);height:auto}.c-data-table tbody tr.active{box-shadow:inset 2px 0 0 var(--csc-primary), inset -2px 0 0 var(--csc-primary), inset 0 2px 0 var(--csc-primary);border-radius:6px 6px 0 0}.c-data-table tbody tr.active svg{transform:rotate(180deg)}.c-data-table tbody tr.active+.additional-data{border-radius:0 0 6px 6px;box-shadow:inset 2px 0 0 var(--csc-primary), inset -2px 0 0 var(--csc-primary), inset 0 -2px 0 var(--csc-primary)}.c-data-table tbody tr.active.selected{box-shadow:inset 4px 0 0 var(--csc-primary), inset -2px 0 0 var(--csc-primary), inset 0 2px 0 var(--csc-primary)}.c-data-table tbody tr.selected{background-color:rgba(0, 103, 120, 0.05);box-shadow:inset 4px 0 0 var(--csc-primary), inset 0 1px 0 0 var(--csc-light-grey)}.c-data-table tbody tr.selected+.additional-data{box-shadow:inset 4px 0 0 var(--csc-primary), inset -2px 0 0 var(--csc-primary), inset 0 -2px 0 var(--csc-primary)}.c-data-table__loader{background-color:var(--csc-light-grey);height:2px;overflow:hidden;position:absolute;width:100%}.c-data-table .loading-bar{animation:loading 1s ease-in 0.5s infinite;background-color:var(--csc-primary);height:100%;left:-50%;position:absolute;width:50%}@keyframes loading{0%{transform:translateX(0)}to{transform:translateX(400%)}}.c-data-table .additional-data{display:none}.c-data-table .additional-data.active{display:table-row}.c-data-table .additional-data ul{list-style:none;margin:0;padding:0;width:100%}.c-data-table .additional-data ul li{padding:12px}.c-data-table .additional-data ul li:not(:last-child){box-shadow:inset 0 -1px 0 0 var(--csc-light-grey)}.c-data-table .additional-data ul li span{color:var(--csc-primary);font-weight:600}.c-data-table .additional-data ul li .title{display:flex;gap:8px}.c-data-table .additional-data ul li .title+.children{margin-top:8px}.c-data-table--scrollable{position:relative}.c-data-table--hoverable tbody tr:not(.additional-data){cursor:pointer}.c-data-table--hoverable tbody tr:not(.additional-data):hover{background-color:var(--csc-primary-text-hover);border-radius:6px;box-shadow:inset 0 0 0 2px var(--csc-primary);overflow:hidden}.c-data-table--hoverable tbody tr:not(.additional-data).active:hover{border-radius:6px 6px 0 0;box-shadow:inset 2px 0 0 var(--csc-primary), inset -2px 0 0 var(--csc-primary), inset 0 2px 0 var(--csc-primary)}.c-data-table--hoverable tbody tr:not(.additional-data).selected.active:hover{border-radius:6px 6px 0 0;box-shadow:inset 4px 0 0 var(--csc-primary), inset -2px 0 0 var(--csc-primary), inset 0 2px 0 var(--csc-primary)}.c-data-table--hoverable tbody tr:not(.additional-data).selected:hover{border-radius:6px;box-shadow:inset 4px 0 0 var(--csc-primary), inset 0 0 0 2px var(--csc-primary)}.sorted-column{background-color:rgba(0, 103, 120, 0.05)}";var u=undefined&&undefined.__rest||function(t,i){var a={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&i.indexOf(e)<0)a[e]=t[e];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,e=Object.getOwnPropertySymbols(t);s<e.length;s++){if(i.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(t,e[s]))a[e[s]]=t[e[s]]}return a};const p=class{constructor(a){t(this,a);this.paginate=i(this,"paginate",7);this.expand=i(this,"expand",7);this.sort=i(this,"sort",7);this.selection=i(this,"selection",7);this._debounce=null;this._extraHeaders=[];this._isValidated=false;this._isVisible=false;this.data=[];this.externalData=false;this.headers=[];this.hideFooter=false;this.footerOptions={itemsPerPageOptions:[5,25,50,100],hideDetails:false,simple:false,hideRange:false,size:"default"};this.loading=false;this.loadingText="Loading data";this.noDataText="No data";this.pagination=undefined;this.selectable=false;this.singleSelection=false;this.selectionProperty=null;this.singleExpansion=false;this.sortBy=null;this.sortDirection=null;this.stickyHeader=false;this.horizontalScrolling=false;this._activeRows=[];this._data=[];this._isIntermediate=false;this._isPaginationSimple=false;this._selections=[];this.hasOverflow=false;this.hiddenHeaders=[];this.initiallyHiddenHeaders=[];this.forceRender=false;this.breakpoints=[];this.markedFooterWidth=0;this.parentWidth=0;this.firstCellHidden=false;this.lastCellHidden=false}onHeaderChange(){this._getData()}onDataChange(){this._getData()}onSingleSelectionChange(){this.clearSelections()}onLoadingChange(t){if(!t){this._setIntermediateStatus()}}async clearSelections(){this._selections=[];this._emitChange()}componentWillLoad(){var t,i;this.sortBy=(t=this.sortBy)!==null&&t!==void 0?t:this.headers[0].key;this.sortDirection=(i=this.sortDirection)!==null&&i!==void 0?i:"asc";this._getData();this.initiallyHiddenHeaders=this.headers.filter((t=>!!t.hidden)).map((t=>t.key));this.hiddenHeaders=[...new Set([...this.hiddenHeaders,...this.initiallyHiddenHeaders])]}componentDidLoad(){if(!this.horizontalScrolling){this._rootIntersectionObserver=new IntersectionObserver((([t])=>{if(t.isIntersecting){this._handleResponsiveHeaders();this._isVisible=true}}));this._resizeObserver=new ResizeObserver((()=>{this._handleResize()}));this._rootIntersectionObserver.observe(this.element)}else{const[t]=this._headerKeys;const i=this._headerKeys[this._headerKeys.length-1];this._firstCellIntersectionObserver=new IntersectionObserver((([t])=>{this.firstCellHidden=!t.isIntersecting}),{threshold:1,rootMargin:"16px",root:this.element});this._lastCellIntersectionObserver=new IntersectionObserver((([t])=>{this.lastCellHidden=!t.isIntersecting}),{threshold:1,rootMargin:"16px",root:this.element});this._resizeObserver=new ResizeObserver((()=>{this._handleScrollWidth()}));this._firstCellIntersectionObserver.observe(this._tableElement.querySelector(`[data-id="${t}"]`));this._lastCellIntersectionObserver.observe(this._tableElement.querySelector(`[data-id="${i}"]`))}this._resizeObserver.observe(this.element)}disconnectedCallback(){var t,i,a,e;(t=this._resizeObserver)===null||t===void 0?void 0:t.disconnect();(i=this._rootIntersectionObserver)===null||i===void 0?void 0:i.disconnect();(a=this._firstCellIntersectionObserver)===null||a===void 0?void 0:a.disconnect();(e=this._lastCellIntersectionObserver)===null||e===void 0?void 0:e.disconnect()}_handleHeaderVisibility(t,i,a){var e;const s=this._headers.findIndex((i=>i.key===t.dataset.id));const r=t.getBoundingClientRect();const n=r.right-a<=i;const d=t.dataset.id===Array.from(this._headerRefs.keys()).at(0);const o=(e=this._headers[s])===null||e===void 0?void 0:e.pinned;if(!n&&o&&s>=1){const i=Array.from(this._headerRefs.values()).reverse().find((t=>{var i;if(!t)return false;return!((i=this._headers.find((i=>i.key===t.dataset.id)))===null||i===void 0?void 0:i.pinned)}));this.hiddenHeaders=[...new Set([...this.initiallyHiddenHeaders,...this.hiddenHeaders,(i||t).dataset.id])];return}if(!n&&!d){this.hiddenHeaders=[...new Set([...this.initiallyHiddenHeaders,...this.hiddenHeaders,t.dataset.id])]}}_handleResponsiveHeaders(){var t,i;const{width:a}=this._tableElement.getBoundingClientRect();const{width:e,x:s}=this.element.getBoundingClientRect();const r=((i=(t=this._footerElement)===null||t===void 0?void 0:t.getBoundingClientRect())===null||i===void 0?void 0:i.width)||0;if(this._debounce!==null){clearTimeout(this._debounce);this._debounce=null}if(e<a){this.breakpoints=[...new Set([...this.breakpoints,a])];setTimeout((()=>{for(const t of this._headerRefs.values()){if(t){this._handleHeaderVisibility(t,e,s)}}this._debounce=setTimeout((()=>{if(e<r){this.markedFooterWidth=r;this._isPaginationSimple=true}}),200)}),0)}else if(this.breakpoints.length>0&&a>=this.breakpoints[this.breakpoints.length-1]){this.breakpoints.pop();const t=this.headers.find((t=>this.hiddenHeaders.includes(t.key)));if(!!t){const i=this.hiddenHeaders.indexOf(t.key);this.hiddenHeaders.splice(i,1);this.hiddenHeaders=[...new Set([...this.hiddenHeaders,...this.initiallyHiddenHeaders])]}}this._debounce=setTimeout((()=>{if(e>=this.markedFooterWidth&&this.markedFooterWidth>0){this._isPaginationSimple=false}}),200)}_addHeaderRef(t,i){if(!this._headerRefs){this._headerRefs=new Map([[t,i]]);return}this._headerRefs.set(t,i)}_getData(){this._extraHeaders=this.headers.filter((t=>{var i;return!Object.keys(((i=this.data)===null||i===void 0?void 0:i[0])||{}).includes(t.key)}));const t=this._extraHeaders.reduce(((t,i)=>Object.assign(Object.assign({},t),{[i.key]:{value:null}})),{});const i=this.data.map((i=>Object.assign(Object.assign({},i),t))).reduce(((t,i)=>{const a={_hiddenData:[]};Object.keys(i).forEach((t=>{a[t]=i[t]}));this.hiddenHeaders.forEach((t=>{const e=this.headers.find((i=>i.key===t));a._hiddenData.push({id:e===null||e===void 0?void 0:e.key,key:e===null||e===void 0?void 0:e.value,value:i[t]})}));t.push(a);return t}),[]);this._data=this._sortData(i);this.pagination=Object.assign(Object.assign({},this.pagination),{itemCount:this.data.length});this._validateProps(this._data[0]);this._handleScrollWidth();requestAnimationFrame((()=>{this._handleResize()}))}_getSelectionValue(t,i){var a;return!!this.selectionProperty?((a=t[this.selectionProperty])===null||a===void 0?void 0:a.value)||i:i}get _headers(){return this.headers.map((t=>Object.assign(Object.assign({},t),{pinned:!!t.pinned}))).filter((t=>!this.hiddenHeaders.includes(t.key)&&!t.hidden))}get _headerKeys(){return this._headers.map((t=>t.key))}get _hasHiddenData(){return!!this.hiddenHeaders.length}_emitChange(){this.selection.emit(this._selections)}_setIntermediateStatus(){requestAnimationFrame((()=>{this._isIntermediate=this._isPageIntermediate();this._refresh()}))}_sortData(t){if(!this.sortBy||this.externalData)return t;const i=t.sort(((t,i)=>{const a=t[this.sortBy].value;const e=i[this.sortBy].value;if(typeof a==="string"){if(this.sortDirection==="asc"){return a.toLowerCase().localeCompare(e.toLowerCase())}return e.toLowerCase().localeCompare(a.toLowerCase())}if(typeof a==="number"){if(this.sortDirection==="asc"){return a-e}return e-a}}));return!!this.pagination&&!this.hideFooter?i.slice(this.pagination.startFrom,this.pagination.endTo+1):i}_handleScrollWidth(){this.parentWidth=this.element.getBoundingClientRect().width}_handleResize(){if(this._isVisible){this._handleResponsiveHeaders()}}_getIndex(t){let i=t;if(!this.selectionProperty&&!!this.pagination&&typeof i==="number"){i+=this.pagination.startFrom;if(this.sortDirection==="desc"){i=this.pagination.itemCount-1-i}}return i}_getSelectionsForPage(){return this._selections.filter((t=>this._data.map(((t,i)=>this._getSelectionValue(t,this._getIndex(i)))).includes(t)))}_hasSelectionsOnPage(){return this._getSelectionsForPage().length>0}_isPageIntermediate(){const t=this._getSelectionsForPage();return this._hasSelectionsOnPage()&&t.length<this._data.length}_onHeadingSelection(t){t===null||t===void 0?void 0:t.stopPropagation();t===null||t===void 0?void 0:t.preventDefault();if(t instanceof KeyboardEvent&&t.type==="keyup"&&t.key!==" "){return}if(this._debounce!==null){clearTimeout(this._debounce);this._debounce=null}this._debounce=setTimeout((()=>{if(this._data.length===this._getSelectionsForPage().length){this._selections=[...this._selections.filter((t=>!this._data.map(((t,i)=>this._getSelectionValue(t,this._getIndex(i)))).includes(t)))];this._setIntermediateStatus();this._emitChange();return}this._selections=[...new Set([...this._selections,...this._data.map(((t,i)=>this._getSelectionValue(t,this._getIndex(i))))])];this._setIntermediateStatus();this._emitChange()}),200)}_onPaginationChange(t){if(this.externalData){this.paginate.emit(t.detail);return}this.pagination=Object.assign(Object.assign({},this.pagination),t.detail);this._setIntermediateStatus();this._getData()}_onSelection(t){if(this.singleSelection){this._selections=[t];this._emitChange();this._refresh();return}if(this._selections.includes(t)){this._selections=this._selections.filter((i=>i!==t))}else{this._selections=[...this._selections,t]}this._emitChange();this._setIntermediateStatus()}_onSort(t){if(this.sortBy===t){this.sortDirection=this.sortDirection==="asc"?"desc":"asc"}else{this.sortDirection="asc"}this.sortBy=t;this.sort.emit({sortBy:this.sortBy,direction:this.sortDirection});this._getData();this._setIntermediateStatus();this._refresh()}_onToggleAdditionalData(t,i,a){if(!this._hasHiddenData||t.target.tagName==="C-CHECKBOX")return;const e=this.singleExpansion?this._activeRows[0]===i:this._activeRows.includes(i);const{_hiddenData:s}=a,r=u(a,["_hiddenData"]);Object.keys(r).forEach((t=>{r[t]=r[t].value}));s.forEach((t=>{r[t.id]=t.value.value}));this.expand.emit({active:!e,row:r});if(this.singleExpansion){this._activeRows=e?[]:[i];return}if(e){this._activeRows=this._activeRows.filter((t=>t!==i));return}this._activeRows=[...this._activeRows,i]}_handleKeyUp(t,i,a){t.preventDefault();if(t.key==="Enter"){this._onToggleAdditionalData(t,i,a)}}_refresh(){this.forceRender=!this.forceRender}_renderAdditioanlDataRow(t,i={}){return this._hasHiddenData&&a("tr",{class:{"additional-data":true,active:this._activeRows.includes(t)}},a("td",{colSpan:100},a("div",null,a("ul",null,this._renderHiddenCells(t),this._renderHiddenHeaderChildren(t,i)))))}_renderCellData(t,i,e,s){var r;const n=i.component||((r=this._headers[e])===null||r===void 0?void 0:r.component);const d=(n===null||n===void 0?void 0:n.tag)||null;const o=!!(n===null||n===void 0?void 0:n.injectValue);const l=(n===null||n===void 0?void 0:n.params)||{};if(o){l.value=i.value}return!!d?a(d,Object.assign({},l,{onClick:a=>{var e;(e=l===null||l===void 0?void 0:l.onClick)===null||e===void 0?void 0:e.call(l,{index:s,value:i.value,data:this.data[s],event:a,key:t})}}),i.formattedValue||i.value):i.formattedValue||i.value}_renderCellChildren(t,i,e,s){return t.children.map((r=>{var n,d;const o=(n=r.component)===null||n===void 0?void 0:n.tag;const l=((d=r.component)===null||d===void 0?void 0:d.params)||{};const{_hiddenData:h=[]}=s,c=u(s,["_hiddenData"]);const b=Object.assign(Object.assign({},c),h.reduce(((t,i)=>{t[i.id]=i.value;return t}),{}));return!!o?a(o,Object.assign({},l,{onClick:a=>{var s;(s=l===null||l===void 0?void 0:l.onClick)===null||s===void 0?void 0:s.call(l,{value:t.value,index:i,event:a,key:e,data:b})}}),r.value):r.value}))}_renderExpansionIndicator(t,i={}){return this._hasHiddenData&&a("td",null,a("div",{tabindex:"0",onKeyUp:a=>this._handleKeyUp(a,t,i)},a("svg",{width:"22",height:"22",viewBox:"0 0 24 24"},a("path",{d:n}))))}_renderHiddenCells(t){return this._data[t]._hiddenData.filter((t=>!this._extraHeaders.find((i=>i.key===t.id)))).map((({id:t,key:i,value:e})=>{const s=this._headers.findIndex((i=>i.key===t));return a("li",null,!!i&&a("div",{class:"title"},a("span",null,i,":"),this._renderCellData(t,e,s,s)),!!e.children&&a("div",{class:"children"},this._renderCellChildren(e,s,t,{})))}))}_renderHiddenHeaderChildren(t,i){return this._data[t]._hiddenData.map((({id:e,key:s})=>{var r;const n=this.headers.findIndex((t=>t.key===e));return!!((r=this.headers[n])===null||r===void 0?void 0:r.children)&&a("li",null,a("div",{class:"children"},this._renderCellChildren(this.headers[n],t,s,i)))}))}_renderLoaderRow(){return a("tr",null,a("td",{class:"loader",colSpan:100},this.loading&&a("div",{class:"c-data-table__loader"},a("div",{class:"loading-bar"}))))}_renderRows(){return!!this._data.length&&Object.values(this._data).map(((t,i)=>{let s=this._getSelectionValue(t,i);if(!this.selectionProperty&&typeof s==="number"){s=this._getIndex(s)}const r=!!this._selections.includes(s);return a(e,null,a("tr",{class:{active:this._activeRows.includes(i),parent:this._hasHiddenData,selected:r},onClick:a=>this._onToggleAdditionalData(a,i,t)},this._renderSelectionCell(r,s),this._renderExpansionIndicator(i,t),this._renderTableCells(i,t)),this._renderAdditioanlDataRow(i,t))}))}_renderSelectionCell(t,i){return this.selectable&&a("td",null,a("div",{class:"selection"},a("c-checkbox",{value:t,"hide-details":true,onChangeValue:()=>this._onSelection(i)})))}_renderSortIndicator(t){let i=l;if(t===this.sortBy&&this.sortDirection==="asc"){i=h}if(t===this.sortBy&&this.sortDirection==="desc"){i=c}return a("svg",{width:"24",height:"24",viewBox:"0 0 24 24",tabindex:0},a("path",{d:i}))}_renderStatusTextRow(){return!this._data.length&&a("tr",null,a("td",{class:"info",colSpan:100},a("div",null,this.loading?this.loadingText:this.noDataText)))}_renderTableBody(){return a("tbody",null,this._renderLoaderRow(),this._renderStatusTextRow(),this._renderRows())}_renderTableCell(t,i,e,s,r={}){var n;const d=this.headers.find((i=>i.key===t));const o=this.hiddenHeaders.includes(t);return!!d&&!o&&a("td",null,a("div",{"data-align":d===null||d===void 0?void 0:d.align,"data-justify":d===null||d===void 0?void 0:d.justify},this._renderCellData(t,i,e,s),!!i.children&&a("div",{class:"children"},this._renderCellChildren(i,s,t,r)),!!((n=this.headers.find((i=>i.key===t)))===null||n===void 0?void 0:n.children)&&a("div",{class:"children"},this._renderCellChildren(this.headers.find((i=>i.key===t)),s,t,r))))}_renderTableCells(t,i={}){return this._sortCellProperties(i).map((([a,e],s)=>this._renderTableCell(a,e,s,t,i)))}_renderTableFooter(){const t=this.horizontalScrolling?{maxWidth:`${this.parentWidth}px`,position:"sticky",left:"0"}:{};return!!this.pagination&&a("tfoot",null,a("tr",{ref:t=>this._footerElement=t},a("td",{colSpan:100},a("div",{class:"c-data-table__footer",style:t},a("c-pagination",Object.assign({},this.footerOptions,{value:this.pagination,simple:this._isPaginationSimple,onChangeValue:t=>this._onPaginationChange(t)}))))))}_renderTableHeader(){const t=this.horizontalScrolling?{width:`${this.parentWidth-8}px`,position:"sticky",left:"4px"}:{};return a("thead",{class:{sticky:this.stickyHeader}},a("tr",null,this.selectable&&a("th",{class:"selection"},!this.singleSelection&&a("div",{class:"selection--heading"},a("c-checkbox",{value:this._hasSelectionsOnPage(),intermediate:this._isIntermediate,"hide-details":true,onClick:t=>this._onHeadingSelection(t),onKeyUp:t=>this._onHeadingSelection(t)}))),this._hasHiddenData&&a("th",{class:"indicator"}),!!this._headers.length&&this._headers.map((t=>{const i=!!t.sortable||typeof t.sortable==="undefined";const e=Object.assign(Object.assign({"data-id":t.key,ref:i=>this._addHeaderRef(t.key,i)},!!t&&{style:Object.assign({},t.width&&{minWidth:t.width})}),i&&{onClick:()=>this._onSort(t.key),onKeyUp:()=>this._onSort(t.key)});return a("th",Object.assign({},e),a("div",{class:{sortable:i}},t.value,i&&this._renderSortIndicator(t.key)))}))),this.horizontalScrolling&&a("tr",{class:"c-data-table__header-indicators"},a("th",{colSpan:100},a("div",{style:t},this.firstCellHidden&&a("c-icon-button",{class:"first",size:"small",outlined:true,onClick:()=>this._scrollLeft()},a("c-icon",{path:d})),a("c-spacer",null),this.lastCellHidden&&a("c-icon-button",{class:"last",size:"small",outlined:true,onClick:()=>this._scrollRight()},a("c-icon",{path:o}))))))}_scrollLeft(){const t=this.element.getBoundingClientRect().left;const i=this._headerKeys.filter((i=>{var a;const e=(a=this._tableElement.querySelector(`[data-id="${i}"]`))===null||a===void 0?void 0:a.getBoundingClientRect().left;return e<t-2}));if(i.length){if(i.length===1){this._tableElement.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"});return}this._tableElement.querySelector(`[data-id="${i[i.length-1]}"]`).scrollIntoView({behavior:"smooth",block:"nearest"})}}_scrollRight(){const t=this.element.getBoundingClientRect().right;const i=this._headerKeys.filter((i=>{var a;const e=(a=this._tableElement.querySelector(`[data-id="${i}"]`))===null||a===void 0?void 0:a.getBoundingClientRect().right;return e>t+2}));if(i.length){this._tableElement.querySelector(`[data-id="${i[0]}"]`).scrollIntoView({behavior:"smooth",block:"nearest"})}}_sortCellProperties(t){const i=Object.entries(t).filter((([t])=>![...this.hiddenHeaders,"_hiddenData"].includes(t))).sort((([t],[i])=>this._headerKeys.indexOf(t)-this._headerKeys.indexOf(i)));return i}_validateProps(t){if(!!t&&!this._isValidated&&this.selectionProperty!==null&&!t[this.selectionProperty]){console.warn(`[C-DATA-TABLE] Invalid selection property '${this.selectionProperty}'. Using row index as a fallback. This may lead to unexpected behavior.`);this._isValidated=true}}render(){const t={"c-data-table":true,"c-data-table--hoverable":this.selectable||this._hasHiddenData,"c-data-table--scrollable":this.horizontalScrolling};return a(s,null,a("table",{class:t,ref:t=>this._tableElement=t},a("colgroup",null,[...this.selectable?["_selection"]:[],...this.hiddenHeaders.length?["_hidden"]:[],...this._headerKeys].map((t=>a("col",{class:this.sortBy===t&&"sorted-column"})))),this._renderTableHeader(),this._renderTableBody(),!this.hideFooter&&this._renderTableFooter()))}get element(){return r(this)}static get watchers(){return{hiddenHeaders:["onHeaderChange"],data:["onDataChange"],singleSelection:["onSingleSelectionChange"],loading:["onLoadingChange"]}}};p.style=b;export{p as c_data_table};
//# sourceMappingURL=p-fdaf9f6b.entry.js.map