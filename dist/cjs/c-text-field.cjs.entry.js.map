{"file":"c-text-field.entry.cjs.js","mappings":"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","names":["uuid","mdiEye","mdiEyeOff","h","mdiCalendar","Host"],"sources":["./src/components/c-text-field/c-text-field.scss?tag=c-text-field","./src/components/c-text-field/c-text-field.tsx"],"sourcesContent":[".c-input {\n  &__password-toggle,\n  &__date-toggle {\n    cursor: pointer;\n    fill: currentColor;\n    height: 22px;\n    width: 22px;\n\n    &--disabled {\n      cursor: not-allowed;\n      fill: rgba(0, 0, 0, 0.54);\n    }\n  }\n\n  input {\n    &[type=\"date\"] {\n      opacity: 0;\n\n      &::-webkit-calendar-picker-indicator,\n      &::-webkit-inner-spin-button {\n        display: none;\n        appearance: none;\n      }\n\n      &:focus,\n      &.c-input__input--filled {\n        opacity: 1;\n      }\n    }\n  }\n}\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n  State,\n} from '@stencil/core';\nimport { v4 as uuid } from 'uuid';\nimport { mdiCalendar, mdiEye, mdiEyeOff } from '@mdi/js';\n\n/**\n * @group Form\n */\n@Component({\n  tag: 'c-text-field',\n  styleUrl: 'c-text-field.scss',\n  shadow: false,\n})\nexport class CTextField {\n  /**\n   * Auto focus the input\n   */\n  @Prop() autofocus = false;\n\n  /**\n   * HTML input autocapitalize\n   */\n  @Prop() autocapitalize = '';\n\n  /**\n   * HTML input autocorrect\n   */\n  @Prop() autocorrect = '';\n\n  /**\n   * HTML input autocomplete\n   */\n  @Prop() autocomplete = '';\n\n  /**\n   * Disable the input\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Hide the hint and error messages\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Hint text for the input\n   */\n  @Prop() hint = '';\n\n  /**\n   * Id of the input\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Trim whitespace from the return value\n   */\n  @Prop() trimWhitespace = false;\n\n  /**\n   * Label of the input\n   */\n  @Prop() label: string;\n\n  /**\n   * Maximum value on a numeric input\n   */\n  @Prop() max: number = null;\n\n  /**\n   * Minimum value on a numeric input\n   */\n  @Prop() min: number = null;\n\n  /**\n   * Name of the input\n   */\n  @Prop() name: string;\n\n  /**\n   * Numeric input\n   *\n   * @deprecated Use type=\"number\" instead\n   */\n  @Prop() number = false;\n\n  /**\n   * Placeholder of the input\n   */\n  @Prop() placeholder: string;\n\n  /**\n   * Mark as readonly\n   */\n  @Prop() readonly = false;\n\n  /**\n   * Set the input as required\n   */\n  @Prop() required = false;\n\n  /**\n   * Rows on the input\n   */\n  @Prop() rows = 1;\n\n  /**\n   * Shadow variant of the input\n   */\n  @Prop() shadow = false;\n\n  /**\n   * Step size on a numeric input\n   */\n  @Prop() step: number = null;\n\n  /**\n   * Type of the input\n   */\n  @Prop() type: string;\n\n  /**\n   * Set the validÃ­ty of the input\n   */\n  @Prop() valid = true;\n\n  /**\n   * Manual validation\n   */\n  @Prop() validate = false;\n\n  /**\n   * Validate the input on blur\n   */\n  @Prop() validateOnBlur = false;\n\n  /**\n   * Custom validation message\n   */\n  @Prop() validation = 'Required field';\n\n  /**\n   * Value of the input\n   */\n  @Prop({ mutable: true }) value: string;\n\n  /**\n   * Emit changes to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @State() isFocused = false;\n\n  @State() labelWidth = 0;\n\n  @State() preSlotWidth = 0;\n\n  @State() messageOptions = {\n    show: true,\n    type: 'hint',\n    content: '',\n  };\n\n  @Element() hiddenEl!: HTMLCTextFieldElement;\n\n  private _inputElement: HTMLInputElement;\n\n  private _originalType = '';\n\n  private _inputId: string;\n\n  private _uniqueId = uuid();\n\n  componentWillLoad() {\n    this._originalType = this.type;\n\n    this._inputId = `${(this.hostId || this.label || this.placeholder).replace(\n      /[^a-zA-Z0-9-_]/g,\n      '',\n    )}_${this._uniqueId}`;\n  }\n\n  get isActive() {\n    return !!this.value || this.isFocused;\n  }\n\n  get passwordIcon() {\n    return this.type === 'password' ? mdiEye : mdiEyeOff;\n  }\n\n  private _handleChange = (event) => {\n    this.value = this.trimWhitespace\n      ? event.target.value.trim()\n      : event.target.value;\n\n    this.changeValue.emit(this.value);\n  };\n\n  private _handleBlur = (event) => {\n    if (this.trimWhitespace) {\n      const trimmedValue = event.target.value.trim();\n\n      event.target.value = trimmedValue;\n    }\n  };\n\n  private _renderInputElement() {\n    const props = {\n      classes: {\n        'c-input__input': true,\n        'c-input__input--filled': !!this.value,\n      },\n      shared: {\n        id: this._inputId,\n        name: this.name,\n        disabled: this.disabled,\n        readonly: this.readonly,\n        value: this.value,\n        onInput: this._handleChange,\n        onChange: this._handleChange,\n        onBlur: this._handleBlur,\n      },\n      input: {\n        type: this.number ? 'number' : this.type || 'text',\n        min: this.min,\n        max: this.max,\n        step: this.step,\n        ...(!!this.autocomplete && { autocomplete: this.autocomplete }),\n        ...(!!this.autocapitalize && { autocapitalize: this.autocapitalize }),\n        ...(!!this.autocorrect && { autocorrect: this.autocorrect }),\n      },\n      textArea: {\n        rows: this.rows,\n      },\n    };\n\n    const textInput = (\n      <input\n        class={props.classes}\n        {...props.shared}\n        {...props.input}\n        ref={(el) => (this._inputElement = el)}\n      />\n    );\n\n    const textArea = (\n      <textarea\n        class={props.classes}\n        {...props.shared}\n        {...props.textArea}\n      ></textarea>\n    );\n\n    return this.rows > 1 ? textArea : textInput;\n  }\n\n  private _isFirefox() {\n    return !!navigator.userAgent.match(/firefox|fxios/i);\n  }\n\n  private _renderDateToggle() {\n    if (this._originalType !== 'date' || this._isFirefox()) return;\n\n    const classes = {\n      'c-input__date-toggle': true,\n      'c-input__date-toggle--disabled': this.disabled,\n    };\n\n    return (\n      <svg\n        class={classes}\n        viewBox=\"0 0 24 24\"\n        onClick={this._toggleDatepicker.bind(this)}\n      >\n        <path d={mdiCalendar} />\n      </svg>\n    );\n  }\n\n  private _toggleDatepicker() {\n    this._inputElement?.showPicker();\n  }\n\n  private _renderPasswordToggle() {\n    if (this._originalType !== 'password') return;\n\n    const classes = {\n      'c-input__password-toggle': true,\n      'c-input__password-toggle--disabled': this.disabled,\n    };\n\n    return (\n      <svg\n        class={classes}\n        viewBox=\"0 0 24 24\"\n        onClick={this._togglePasswordVisibility}\n      >\n        <path d={this.passwordIcon} />\n      </svg>\n    );\n  }\n\n  private _togglePasswordVisibility = () => {\n    if (this.disabled) return;\n\n    this.type = this.type === 'password' ? 'text' : 'password';\n  };\n\n  render() {\n    return (\n      <Host>\n        <c-input\n          autofocus={this.autofocus}\n          disabled={this.disabled}\n          hide-details={this.hideDetails}\n          hint={this.hint}\n          id={this.hostId}\n          input-id={this._inputId}\n          label={this.label}\n          name={this.name}\n          placeholder={this.placeholder}\n          readonly={this.readonly}\n          required={this.required}\n          rows={this.rows}\n          shadow={this.shadow}\n          type={this.type}\n          valid={this.valid}\n          validate={this.validate}\n          validate-on-blur={this.validateOnBlur}\n          validation={this.validation}\n          value={this.value}\n        >\n          <slot name=\"pre\" slot=\"pre\"></slot>\n\n          {this._renderInputElement()}\n\n          {this._renderPasswordToggle()}\n\n          {this._renderDateToggle()}\n\n          <slot name=\"post\" slot=\"post\"></slot>\n        </c-input>\n      </Host>\n    );\n  }\n}\n"],"version":3}