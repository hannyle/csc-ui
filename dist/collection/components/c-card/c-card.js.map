{"version":3,"file":"c-card.js","sourceRoot":"","sources":["../../../src/components/c-card/c-card.tsx"],"names":[],"mappings":"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","sourcesContent":["import { mdiFullscreen, mdiFullscreenExit } from '@mdi/js';\nimport {\n  Component,\n  Element,\n  Host,\n  h,\n  Prop,\n  getAssetPath,\n  State,\n  Method,\n} from '@stencil/core';\n\nexport type CardBackground = 'puhti' | 'mahti' | 'allas';\n\n/**\n * @group Cards\n * @slot - Card contents\n */\n@Component({\n  tag: 'c-card',\n  styleUrl: 'c-card.scss',\n  shadow: true,\n  assetsDirs: ['assets'],\n})\nexport class CCard {\n  /**\n   * Card background image for login pages of specific services\n   */\n  @Prop() background: CardBackground;\n\n  /**\n   * Background color\n   */\n  @Prop() backgroundColor = 'white';\n\n  /**\n   * Enable the fullscreen toggle button\n   */\n  @Prop() fullscreen = false;\n\n  @State() isFullscreen = false;\n\n  @Element() host: HTMLCCardElement;\n\n  private _allowedBackgrounds = ['puhti', 'mahti', 'allas'];\n\n  private _onFullscreen() {\n    this.isFullscreen = !this.isFullscreen;\n\n    const modalWrapper =\n      this.host.parentElement?.shadowRoot?.querySelector('.modal-wrapper');\n\n    if (modalWrapper) {\n      (modalWrapper as HTMLDivElement).style.display = this.isFullscreen\n        ? 'block'\n        : 'flex';\n    }\n  }\n\n  componentDidLoad() {\n    const title = this.host.querySelector('c-card-title');\n\n    if (!!title && this.fullscreen) {\n      title.style.marginRight = '40px';\n    }\n  }\n\n  /**\n   * Exit fullscreen from the outside\n   */\n  @Method()\n  async exitFullscreen() {\n    this.isFullscreen = false;\n\n    const modalWrapper =\n      this.host.parentElement?.shadowRoot?.querySelector('.modal-wrapper');\n\n    if (modalWrapper) {\n      (modalWrapper as HTMLDivElement).style.display = 'flex';\n    }\n  }\n\n  /**\n   * Enter fullscreen from the outside\n   */\n  @Method()\n  async enterFullscreen() {\n    this.isFullscreen = true;\n  }\n\n  render() {\n    const style = {\n      'background-color': this.backgroundColor,\n    };\n\n    const hostClasses = {\n      'c-card': true,\n      'c-card--fullscreen': this.isFullscreen,\n    };\n\n    if (this._allowedBackgrounds.includes(this.background)) {\n      style['background-image'] = `url(${getAssetPath(\n        `./assets/${this.background}.gif`,\n      )}`;\n      style['background-size'] = 'cover';\n      style['background-position-y'] = 'bottom';\n    }\n\n    return (\n      <Host class={hostClasses} style={style}>\n        {this.fullscreen && (\n          <c-icon-button\n            aria-hidden=\"true\"\n            class=\"c-card__fullscreen-toggle\"\n            size=\"small\"\n            title={this.isFullscreen ? 'Exit fullscreen' : 'Enter fullscreen'}\n            text\n            onClick={() => this._onFullscreen()}\n          >\n            <c-icon\n              path={this.isFullscreen ? mdiFullscreenExit : mdiFullscreen}\n            />\n          </c-icon-button>\n        )}\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n"]}