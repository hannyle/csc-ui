{"version":3,"file":"c-notification.js","sourceRoot":"","sources":["../../../src/components/c-notification/c-notification.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, h, Prop, Watch, State } from '@stencil/core';\n\n/**\n * @parent None\n */\n@Component({\n  tag: 'c-notification',\n  styleUrl: 'c-notification.scss',\n  shadow: true,\n})\nexport class CNotification {\n  /**\n   * notification contents\n   */\n  @Prop() notification: {\n    name: string;\n    type: 'warning' | 'error' | 'success' | 'info';\n    delay?: number;\n    requiresClosing?: boolean;\n  } = null;\n\n  /**\n   * Position of the notifications\n   */\n  @Prop() position: 'fixed' | 'absolute';\n\n  @Watch('notification')\n  itemChange(newValue: any) {\n    if (!newValue.name) return;\n    const timeStamp = Date.now();\n    const item = { ...newValue, timeStamp };\n    const oldItems = this.items.map((i) => ({ ...i, old: true }));\n    this.items = [...oldItems, item];\n    setTimeout(\n      () => {\n        const toBeHidden = this.items.find((i) => i.timeStamp === timeStamp);\n        this._hideItem(toBeHidden, timeStamp);\n      },\n      item.delay ? parseInt(item.delay, 10) * 1000 : 2000,\n    );\n  }\n\n  @State() items: any[] = [];\n\n  private _hideItem(item, timeStamp) {\n    const hiddenItem = item;\n    hiddenItem.hide = true;\n    const items = [];\n    this.items.forEach((item) => {\n      if (item.timeStamp === timeStamp) {\n        item.hide = true;\n      }\n\n      items.push(item);\n    });\n    this.items = items;\n    setTimeout(() => {\n      this.items = this.items.filter(\n        (i) => i.timeStamp !== timeStamp || i.requiresClosing,\n      );\n    }, 1000);\n  }\n\n  private _hide(item) {\n    const items = [];\n    this.items.forEach((i) => {\n      if (item === i) {\n        i.hide = true;\n        i.requiresClosing = false;\n      }\n\n      items.push(i);\n    });\n    this.items = items;\n  }\n\n  private _getListItem = (item) => {\n    const classes = ['notification'];\n\n    if (!item.requiresClosing && item.hide) {\n      classes.push('hide');\n    } else {\n      classes.push('appear');\n    }\n\n    classes.push(item.type);\n\n    return (\n      <div\n        class={classes.join(' ')}\n        id={'item_' + item.timeStamp}\n        ref={(el) => (item.ref = el as HTMLElement)}\n      >\n        {this[item.type]}\n        <p>{item.name}</p>\n        <div class=\"closewrapper\" onClick={() => this._hide(item)}>\n          {this.close}\n        </div>\n      </div>\n    );\n  };\n\n  warning = (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"icon\"\n      height=\"18\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        id=\"Path_595\"\n        data-name=\"Path 595\"\n        d=\"M2906,909l-8,14h16Zm-.8,5h1.5v1.4l-.4,3.6h-.8l-.4-3.6V914Zm-.2,7a1,1,0,1,0,1-1A.945.945,0,0,0,2905,921Z\"\n        transform=\"translate(-2898 -909)\"\n        fill=\"#ff5800\"\n        fill-rule=\"evenodd\"\n      />\n    </svg>\n  );\n\n  info = (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"icon\"\n      height=\"18\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        id=\"Path_620\"\n        data-name=\"Path 620\"\n        d=\"M2905,1403a8,8,0,1,0,8,8A8.024,8.024,0,0,0,2905,1403Zm0,4a1,1,0,1,1-1,1A.945.945,0,0,1,2905,1407Zm2,8h-4v-1h1v-3h-1v-1h3v4h1Z\"\n        transform=\"translate(-2897 -1403)\"\n        fill=\"var(--csc-primary)\"\n        fill-rule=\"evenodd\"\n      />\n    </svg>\n  );\n\n  close = (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"close\"\n      width=\"8.81\"\n      height=\"8.81\"\n      viewBox=\"0 0 8.81 8.81\"\n    >\n      <path\n        id=\"Path_615\"\n        data-name=\"Path 615\"\n        d=\"M3418.718,1318l-3.313,3.313-3.312-3.313-1.093,1.092,3.313,3.313-3.313,3.313,1.093,1.093,3.313-3.313,3.313,3.313,1.092-1.093-3.312-3.312,3.313-3.313Z\"\n        transform=\"translate(-3411 -1318)\"\n        fill-rule=\"evenodd\"\n      />\n    </svg>\n  );\n\n  error = (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"icon\"\n      height=\"18\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        id=\"Path_624\"\n        data-name=\"Path 624\"\n        d=\"M2905,1491a8,8,0,1,0,8,8A8.024,8.024,0,0,0,2905,1491Z\"\n        transform=\"translate(-2897 -1491)\"\n        fill=\"#b90729\"\n      />\n      <path\n        id=\"Path_625\"\n        data-name=\"Path 625\"\n        d=\"M2900.07,1495.38l1.5-1.42,8.35,8.66-1.39,1.33Z\"\n        transform=\"translate(-2897 -1491)\"\n        fill=\"#fff\"\n      />\n      <path\n        id=\"Path_626\"\n        data-name=\"Path 626\"\n        d=\"M2901.64,1504.02l-1.48-1.43,8.3-8.7,1.39,1.33Z\"\n        transform=\"translate(-2897 -1491)\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n\n  success = (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"icon\"\n      height=\"18\"\n      viewBox=\"0 0 16 16\"\n    >\n      <path\n        id=\"Path_609\"\n        data-name=\"Path 609\"\n        d=\"M2906,1124a8,8,0,1,0,8,8A8.024,8.024,0,0,0,2906,1124Zm-1.3,11.5-3.3-3.4,1.4-1.4,1.9,1.9,4.1-4.1,1.4,1.4Z\"\n        transform=\"translate(-2898 -1124)\"\n        fill=\"#51a808\"\n        fill-rule=\"evenodd\"\n      />\n    </svg>\n  );\n\n  render() {\n    return (\n      <Host class={this.position === 'absolute' ? 'absolute' : 'fixed'}>\n        {this.items.map((item) => this._getListItem(item))}\n      </Host>\n    );\n  }\n}\n"]}