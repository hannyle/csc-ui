{"version":3,"file":"c-button.js","sourceRoot":"","sources":["../../../src/components/c-button/c-button.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Prop,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n} from '@stencil/core';\nimport { mdiPlus, mdiMinus, mdiAccount, mdiPencil } from '@mdi/js';\nimport { createRipple } from '../../utils/utils';\n\n/**\n * @group Buttons\n * @slot - Button text\n * @slot icon - Icon\n * @slot description - Additional description to be shown below the button text\n */\n@Component({\n  tag: 'c-button',\n  styleUrl: 'c-button.scss',\n  shadow: true,\n})\nexport class CButton {\n  /**\n   * Inverted button style for dark backgrounds\n   */\n  @Prop() inverted = false;\n\n  /**\n   * Outlined button style\n   */\n  @Prop() outlined = false;\n\n  /**\n   * Light button background\n   */\n  @Prop() ghost = false;\n\n  /**\n   * True when used as a tab button\n   * @private\n   */\n  @Prop() grouped = false;\n\n  /**\n   * Transparent button background\n   */\n  @Prop() text = false;\n\n  /**\n   * Display loader on the button\n   */\n  @Prop() loading = false;\n\n  /**\n   * Fit width to containing element\n   */\n  @Prop() fit = false;\n\n  /**\n   * Remove the default border radius\n   */\n  @Prop() noRadius = false;\n\n  /**\n   * Icon after text\n   */\n  @Prop() iconEnd = false;\n\n  /**\n   * Button type\n   */\n  @Prop() type: 'button' | 'submit' = 'button';\n\n  /**\n   * Disable the button\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   * Name of the icon to be displayed in the button\n   *\n   * @deprecated Please use the icon slot instead\n   */\n  @Prop() icon: 'plus' | 'minus' | 'account' | 'edit';\n\n  /**\n   * Value for the button\n   * - for use in the c-tab-buttons\n   */\n  @Prop() value?: number | string;\n\n  /**\n   * Id of the button\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Size of the button\n   */\n  @Prop() size: 'default' | 'small' | 'large' = 'default';\n\n  /**\n   * Hyperlink url\n   */\n  @Prop() href: string;\n\n  /**\n   * Path for the svg icon\n   */\n  @Prop() path: string = null;\n\n  /**\n   * Hyperlink target\n   */\n  @Prop() target = '_blank';\n\n  /**\n   * Emit changes to the parent\n   * @private\n   */\n  @Event() tabChange: EventEmitter<number | string>;\n\n  @Element() hostElement: HTMLCButtonElement;\n\n  private _container?: HTMLDivElement;\n\n  private _onClick = (event, center = false) => {\n    if (this.disabled) {\n      event.preventDefault();\n\n      return;\n    }\n\n    createRipple(event, this._container, center);\n\n    this.tabChange.emit(this.value ?? this.hostElement.dataset.index);\n\n    if (this.type === 'submit') {\n      this._closestElementComposed('form', this._container).submit();\n    }\n  };\n\n  private _onKeyDown = (event: KeyboardEvent) => {\n    if (['Space', 'Enter'].includes(event.code)) {\n      if (!this.href) {\n        event.preventDefault();\n      }\n\n      this._onClick(event, true);\n    }\n  };\n\n  private _closestElementComposed(selector, base) {\n    function __closestFrom(el) {\n      const found = el.closest(selector);\n\n      return found ? found : __closestFrom(el.getRootNode().host);\n    }\n\n    return __closestFrom(base);\n  }\n\n  private _containerhasDescriptionSlot: boolean;\n\n  componentWillLoad() {\n    this._containerhasDescriptionSlot = !!this.hostElement.querySelector(\n      '[slot=\"description\"]',\n    );\n  }\n\n  render() {\n    const SPINNER_SMALL: SVGImageElement = (\n      <svg\n        class=\"spinner\"\n        viewBox=\"0 0 100 100\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle class=\"spinner__circle\" cx=\"50\" cy=\"50\" r=\"45\" />\n      </svg>\n    );\n\n    let selectedIcon = null;\n    let svg: SVGImageElement;\n\n    if (this.icon) {\n      const icons = {\n        plus: mdiPlus,\n        minus: mdiMinus,\n        account: mdiAccount,\n        edit: mdiPencil,\n      };\n      selectedIcon = icons[this.icon];\n      svg = (\n        <svg class=\"button-icon\" width=\"16\" height=\"16\" viewBox=\"0 0 22 22\">\n          <path d={selectedIcon} />\n        </svg>\n      );\n    }\n\n    const contentClasses = {\n      'c-button': true,\n      'c-button--description': this._containerhasDescriptionSlot,\n      'c-button--disabled': !!this.disabled,\n      'c-button--fitted': !!this.fit,\n      'c-button--ghost': !!this.ghost,\n      'c-button--large': this.size === 'large',\n      'c-button--no-radius': !!this.noRadius,\n      'c-button--outlined': !!this.outlined,\n      'c-button--small': this.size === 'small',\n      'c-button--text': !!this.text,\n      'c-button--grouped': this.grouped,\n      'c-button--inverted': this.inverted,\n    };\n\n    const innerClasses = {\n      'c-button__content': true,\n      'hide-text': this.loading,\n    };\n\n    const buttonClasses = {\n      fit: !!this.fit,\n      'no-radius': !!this.noRadius,\n      grouped: this.grouped,\n    };\n\n    const hostClasses = {\n      'c-button--active': this.grouped && !this.outlined,\n      inverted: this.inverted,\n    };\n\n    const descriptionSlotClasses = {\n      'c-button__description': this._containerhasDescriptionSlot,\n      'c-button__description--loading': this.loading,\n    };\n\n    const Tag = !!this.href ? 'a' : 'button';\n\n    const attributes = {\n      id: this.hostId,\n      class: buttonClasses,\n      tabindex: this.disabled ? -1 : 0,\n      role: 'button',\n      disabled: this.disabled,\n      onKeyDown: this._onKeyDown,\n      onClick: this._onClick,\n    };\n\n    let linkAttributes = {};\n\n    if (!!this.href) {\n      linkAttributes = { href: this.href, target: this.target };\n    }\n\n    const renderIcon = (\n      <slot name=\"icon\">\n        {this.path && (\n          <svg class=\"icon-by-path\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path d={this.path} />\n          </svg>\n        )}\n      </slot>\n    );\n\n    return (\n      <Host class={hostClasses}>\n        <Tag {...attributes} {...linkAttributes}>\n          <div\n            class={contentClasses}\n            ref={(el) => (this._container = el as HTMLDivElement)}\n          >\n            {this.loading && <div class=\"spinner_wrapper\">{SPINNER_SMALL}</div>}\n            <div class={innerClasses}>\n              {!this.iconEnd && renderIcon}\n\n              {svg}\n\n              <slot></slot>\n\n              {this.iconEnd && renderIcon}\n            </div>\n            {this._containerhasDescriptionSlot && (\n              <div class={descriptionSlotClasses}>\n                <slot name=\"description\"></slot>\n              </div>\n            )}\n          </div>\n        </Tag>\n      </Host>\n    );\n  }\n}\n"]}