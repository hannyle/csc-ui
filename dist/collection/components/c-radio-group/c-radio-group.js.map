{"version":3,"file":"c-radio-group.js","sourceRoot":"","sources":["../../../src/components/c-radio-group/c-radio-group.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  h,\n  Prop,\n  Event,\n  EventEmitter,\n  Element,\n  State,\n  Watch,\n} from '@stencil/core';\nimport { v4 as uuid } from 'uuid';\nimport { mdiCloseCircle } from '@mdi/js';\nimport { CRadioGroupItem } from '../../types';\nimport { createRipple } from '../../utils/utils';\n\n/**\n * @group Form\n * @slot - Default slot for the label\n */\n@Component({\n  tag: 'c-radio-group',\n  styleUrl: 'c-radio-group.scss',\n  shadow: true,\n})\nexport class CRadioGroup {\n  /**\n   * Value of the radio group\n   */\n  @Prop({ mutable: true }) value: string | number | CRadioGroupItem;\n\n  /**\n   * Hide the hint and error messages\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Hint text for the input\n   */\n  @Prop() hint = '';\n\n  /**\n   * Display radio buttons inline\n   */\n  @Prop() inline = false;\n\n  /**\n   * Label of the radio group\n   */\n  @Prop() label: string;\n\n  /**\n   * Color of the radio group\n   */\n  @Prop() color = '';\n\n  /**\n   * Radio group items\n   */\n  @Prop() items: CRadioGroupItem[] = [];\n\n  /**\n   * Disable the radio group\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Return only the item value rather than the whole item object\n   */\n  @Prop() returnValue: false;\n\n  /**\n   * Set as required\n   */\n  @Prop() required = false;\n\n  /**\n   * Set the validÃ­ty of the input\n   */\n  @Prop() valid = true;\n\n  /**\n   * Custom validation message\n   */\n  @Prop() validation = 'Required field';\n\n  /**\n   * Emit value change to the parent\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @Element() el: HTMLCRadioGroupElement;\n\n  @State() messageOptions = {\n    show: true,\n    type: 'hint',\n    content: '',\n  };\n\n  @Watch('validation')\n  onValidationMessageChange(message: string) {\n    this.onValidChange(message.length === 0);\n  }\n\n  @Watch('valid')\n  onValidChange(valid: boolean) {\n    this._handleValidation(valid || this.valid);\n  }\n\n  componentDidLoad() {\n    this._handleValidation(this.valid, 0);\n  }\n\n  private _containers?: HTMLDivElement[] = [];\n\n  private _uniqueId = uuid();\n\n  private _handleKeyDown(event: KeyboardEvent, item, index) {\n    if (['Space', 'Enter'].includes(event.code)) {\n      event.preventDefault();\n\n      this._select(event, item, index);\n    }\n  }\n\n  private _handleValidation(valid: boolean, timeout = 200) {\n    this.messageOptions = {\n      ...this.messageOptions,\n      show: false,\n    };\n\n    setTimeout(() => {\n      this.messageOptions = {\n        ...this.messageOptions,\n        type: valid ? 'hint' : 'error',\n        show: true,\n        content: valid ? (\n          <span>{this.hint}</span>\n        ) : (\n          <span>\n            {this._validationIcon} {this.validation}\n          </span>\n        ),\n      };\n    }, timeout);\n  }\n\n  private _select(event, item, index) {\n    if (this.disabled) return;\n\n    createRipple(event, this._containers[index], true);\n    this.value = this.returnValue ? item?.value : item;\n    this.changeValue.emit(this.value);\n  }\n\n  private _getRadioButton = (item, index) => {\n    const itemId = item.value.toString().replace(/[^a-zA-Z0-9-_]/g, '');\n    const isChecked = this.returnValue\n      ? this.items?.find((i) => i.value === item.value)?.value === this.value\n      : this.value === item;\n\n    const classes = {\n      'c-radio': true,\n      'c-radio--disabled': this.disabled,\n      'c-radio--error': this.messageOptions.type === 'error',\n    };\n\n    return (\n      <label\n        class={classes}\n        id={itemId}\n        onKeyDown={(event) => this._handleKeyDown(event, item, index)}\n      >\n        <input\n          type=\"radio\"\n          aria-checked={(this.value === item).toString()}\n          aria-disabled={this.disabled.toString()}\n          aria-labelledby={itemId}\n          disabled={this.disabled}\n          checked={isChecked}\n          name={this._uniqueId}\n          onChange={(event) => this._select(event, item, index)}\n        />\n\n        <span\n          class=\"ripple\"\n          ref={(el) => (this._containers[index] = el as HTMLDivElement)}\n        >\n          <span class=\"selection\"></span>\n        </span>\n\n        <div class=\"c-radio__label\">{item.label}</div>\n      </label>\n    );\n  };\n\n  private _renderMessages() {\n    if (this.hideDetails) return;\n\n    const classes = {\n      'c-radio__details': true,\n      active: this.messageOptions.show,\n    };\n\n    const messageClasses = {\n      'c-radio__message': true,\n      [`c-radio__message--${this.messageOptions.type}`]: true,\n    };\n\n    return (\n      <div class={classes}>\n        <div class={messageClasses}>{this.messageOptions.content}</div>\n      </div>\n    );\n  }\n\n  private _validationIcon = (\n    <svg height=\"16px\" width=\"16px\" viewBox=\"0 0 24 24\">\n      <path d={mdiCloseCircle} />\n    </svg>\n  );\n\n  render() {\n    const slotHasContent = !!this.el.childNodes.length;\n\n    const wrapperClasses = {\n      'c-radio-group': true,\n      'c-radio-group--disabled': this.disabled,\n      'c-radio-group--inline': this.inline,\n      'c-radio-group--error': this.messageOptions.type === 'error',\n    };\n\n    return (\n      <div\n        class={wrapperClasses}\n        role=\"radiogroup\"\n        aria-labelledby=\"c-radio-group__label\"\n      >\n        {(!!this.label || slotHasContent) && (\n          <label class=\"c-radio-group__label\">\n            {!!this.label ? this.label : <slot></slot>}\n            {this.required && <span class=\"required\">&nbsp;*</span>}\n          </label>\n        )}\n\n        <div class=\"c-radio-group__items\">\n          {this.items.map((item, index) => this._getRadioButton(item, index))}\n        </div>\n\n        {this._renderMessages()}\n      </div>\n    );\n  }\n}\n"]}