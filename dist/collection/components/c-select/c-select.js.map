{"version":3,"file":"c-select.js","sourceRoot":"","sources":["../../../src/components/c-select/c-select.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Element,\n  Host,\n  Prop,\n  State,\n  h,\n  Listen,\n  Event,\n  EventEmitter,\n  Watch,\n} from '@stencil/core';\nimport { mdiChevronDown } from '@mdi/js';\nimport { registerClickOutside } from 'stencil-click-outside';\nimport { v4 as uuid } from 'uuid';\nimport { CSelectItem } from '../../types';\n\n/**\n * @group Form\n */\n@Component({\n  tag: 'c-select',\n  styleUrl: '../c-input/c-input-menu.scss',\n  shadow: true,\n})\nexport class CSelect {\n  /**\n   * Auto focus the input\n   */\n  @Prop() autofocus = false;\n\n  /**\n   * Disable the input\n   */\n  @Prop() disabled = false;\n\n  /**\n   * Hide the hint and error messages\n   */\n  @Prop() hideDetails = false;\n\n  /**\n   * Hint text for the input\n   */\n  @Prop() hint = '';\n\n  /**\n   * Id of the element\n   */\n  @Prop({ attribute: 'id' }) hostId: string;\n\n  /**\n   * Element label\n   */\n  @Prop() label: string;\n\n  /**\n   * Shadow variant\n   */\n  @Prop() shadow = false;\n\n  /**\n   * Input field name\n   */\n  @Prop() name: string;\n\n  /**\n   * Set as required\n   */\n  @Prop() required = false;\n\n  /**\n   * Return only the item value rather than the whole item object\n   */\n  @Prop() returnValue: false;\n\n  /**\n   * Set the validÃ­ty of the input\n   */\n  @Prop() valid = true;\n\n  /**\n   * Manual validation\n   */\n  @Prop() validate = false;\n\n  /**\n   * Validate the input on blur\n   */\n  @Prop() validateOnBlur = false;\n\n  /**\n   * Custom validation message\n   */\n  @Prop() validation = 'Required field';\n\n  /**\n   * Items per page before adding scroll\n   */\n  @Prop() itemsPerPage = 6;\n\n  /**\n   * Placeholder text\n   */\n  @Prop() placeholder = '';\n\n  /**\n   * Selected item\n   */\n  @Prop({ mutable: true }) value: string | number | boolean | CSelectItem =\n    null;\n\n  /**\n   * selectable items\n   */\n  @Prop() items: CSelectItem[] = [];\n\n  /**\n   * Triggered when an item is selected\n   */\n  @Event({ bubbles: false }) changeValue: EventEmitter;\n\n  @Element() host: HTMLCSelectElement;\n\n  @State() menuVisible = false;\n\n  @State() currentIndex: number = null;\n\n  @State() activeListItemId: string = null;\n\n  @State() statusText = '';\n\n  @State() previousValue: CSelectItem = { value: '', name: '' };\n\n  private _itemRefs: { value: string | number | boolean; ref: HTMLElement }[] =\n    [];\n\n  private _id: string;\n\n  private _inputElement: HTMLInputElement;\n\n  private _listElement: HTMLUListElement;\n\n  private _outerWrapperClasses = ['outer-wrapper'];\n\n  private _uniqueId = uuid();\n\n  private _validationClasses = ['validation-message'];\n\n  private _debounce = null;\n\n  private _observer = new IntersectionObserver(\n    (entries, observer) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) {\n          entry.target.scrollIntoView({\n            block: 'nearest',\n            inline: 'nearest',\n          });\n          observer.unobserve(entry.target);\n        } else {\n          observer.unobserve(entry.target);\n        }\n      });\n    },\n    { threshold: 1 },\n  );\n\n  @Watch('validate')\n  validateChange(newValue: boolean) {\n    if (newValue) {\n      this._runValidate();\n    }\n  }\n\n  @Watch('currentIndex')\n  onCurrentIndexChange(index: number) {\n    const items = Array.from(this._listElement?.children || []);\n\n    this.activeListItemId = items[index]?.id ?? null;\n    this._updateStatusText();\n  }\n\n  private _valueChangedHandler(item: CSelectItem) {\n    function isItem(element) {\n      return element.value === item?.value;\n    }\n\n    this.currentIndex = this.items.findIndex(isItem);\n\n    const value = this.returnValue\n      ? item?.value\n      : {\n          name: item?.name,\n          value: item?.value,\n        };\n\n    if (this.previousValue.value === item?.value) return;\n\n    this.previousValue = item;\n\n    this.changeValue.emit(value);\n  }\n\n  private _getLabel() {\n    if (\n      this.returnValue &&\n      ['number', 'string', 'boolean'].includes(typeof this.value)\n    ) {\n      return this.items?.find((item) => item.value === this.value)?.name;\n    }\n\n    return (this.value as CSelectItem)?.name;\n  }\n\n  private _scrollToElement() {\n    if (this.items.length > this.itemsPerPage) {\n      const itemRef = this._itemRefs.find(\n        (item) => item.value === this.items[this.currentIndex].value,\n      )?.ref;\n\n      if (!!itemRef) {\n        this._observer.observe(itemRef);\n      }\n    }\n  }\n\n  @Listen('keydown', { capture: true })\n  handleKeyDown(ev: KeyboardEvent) {\n    if (this.disabled) return;\n\n    const letterNumber = /^[0-9a-zA-Z]+$/;\n\n    if (ev.key.match(letterNumber) && ev.key.length === 1) {\n      if (\n        Date.now() - this._lastKeyPressTime > 3000 ||\n        this._searchString.length > 2\n      ) {\n        this._searchString = ev.key;\n      } else {\n        this._searchString = `${this._searchString}${ev.key}`;\n      }\n\n      this._lastKeyPressTime = Date.now();\n      const selectedItem = this.items.find((i) =>\n        i.name.toLowerCase().startsWith(this._searchString),\n      );\n      function isItem(element) {\n        return element === selectedItem;\n      }\n\n      if (selectedItem) {\n        if (this.menuVisible) {\n          this.currentIndex = this.items.findIndex(isItem);\n          this._scrollToElement();\n        } else {\n          this.value = selectedItem;\n          this._valueChangedHandler(selectedItem);\n        }\n      }\n    }\n\n    if (ev.key === 'Home' && this.menuVisible) {\n      ev.preventDefault();\n      this.currentIndex = 0;\n    }\n\n    if (ev.key === 'End' && this.menuVisible) {\n      ev.preventDefault();\n      this.currentIndex = this.items.length - 1;\n    }\n\n    if (ev.key === 'Tab') {\n      this.menuVisible = false;\n    }\n\n    if (ev.key === 'ArrowDown') {\n      ev.preventDefault();\n\n      this.menuVisible = true;\n\n      if (this.currentIndex === null) {\n        this.currentIndex = 0;\n      } else if (this.currentIndex + 1 < this.items.length) {\n        this.currentIndex += 1;\n      }\n    }\n\n    if (ev.key === 'ArrowUp') {\n      ev.preventDefault();\n\n      this.menuVisible = true;\n\n      if (this.currentIndex > 0) {\n        this.currentIndex -= 1;\n      } else if (this.currentIndex === null) {\n        this.currentIndex = this.items.length - 1;\n      }\n    }\n\n    if (ev.key === ' ') {\n      if (!this.menuVisible) {\n        this.menuVisible = true;\n      }\n    }\n\n    if (ev.key === 'Escape') {\n      const input = this.host.shadowRoot.querySelector('input');\n\n      if (this.menuVisible) {\n        this.menuVisible = false;\n        input.focus();\n      }\n    }\n\n    if (ev.key === 'Enter') {\n      this.menuVisible = !this.menuVisible;\n\n      if (this.currentIndex !== null) {\n        this._selectItem();\n      }\n    }\n  }\n\n  componentWillLoad() {\n    this._id = this.hostId?.replace(/[^a-zA-Z0-9-_]/g, '') ?? this._uniqueId;\n    this._inputId =\n      'input_' +\n      (this.hostId || this.label || this.placeholder).replace(\n        /[^a-zA-Z0-9-_]/g,\n        '',\n      );\n  }\n\n  componentDidLoad() {\n    if (\n      (this.value || typeof this.value === 'boolean') &&\n      !this.currentIndex &&\n      this.currentIndex !== 0\n    ) {\n      this.currentIndex = this.items.findIndex(\n        (item) => item.value === this.value,\n      );\n    }\n  }\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n  }\n\n  private _inputId: string;\n\n  private _lastKeyPressTime = null;\n\n  private _searchString = '';\n\n  private _blurred = false;\n\n  private _selectItem() {\n    const selectedItem = this.items[this.currentIndex];\n    this.value = selectedItem;\n    this._valueChangedHandler(selectedItem);\n    this._scrollToElement();\n  }\n\n  private _showMenu() {\n    if (this.disabled) return;\n\n    this._inputElement.focus();\n\n    // Hack needed to open the menu within a Vue web component\n    setTimeout(() => {\n      this.menuVisible = true;\n    }, 0);\n  }\n\n  private _hideMenu() {\n    this.menuVisible = false;\n    this._blurred = true;\n  }\n\n  private _select(event, item) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.value = item;\n    this._valueChangedHandler(item);\n    this.menuVisible = false;\n  }\n\n  private _getListItem = (item: CSelectItem, index: number) => {\n    const isActive = this.items[this.currentIndex] === item;\n\n    const classes = {\n      none: item.value === null,\n    };\n\n    let itemId = 'none';\n\n    if (typeof item?.value === 'string') {\n      itemId = item.value.replace(/[^a-zA-Z0-9-_]/g, '');\n    }\n\n    itemId = `item_${this._id}--${itemId}`;\n\n    const a11y = {\n      role: 'option',\n      'aria-posinset': (index + 1).toString(),\n      'aria-setsize': this.items.length.toString(),\n    };\n\n    if (isActive) {\n      a11y['aria-selected'] = 'true';\n    }\n\n    return (\n      <li\n        {...a11y}\n        id={itemId}\n        ref={(el) =>\n          this._itemRefs.push({ value: item.value, ref: el as HTMLElement })\n        }\n        class={classes}\n        onClick={(event) => this._select(event, item)}\n      >\n        {item.name}\n      </li>\n    );\n  };\n\n  private _runValidate() {\n    if (\n      this.required &&\n      !this.value &&\n      (this._blurred || !this.validateOnBlur)\n    ) {\n      this._outerWrapperClasses.push('required');\n      this._validationClasses.push('show');\n    } else {\n      this._outerWrapperClasses = this._outerWrapperClasses.filter(\n        (c) => c !== 'required',\n      );\n      this._validationClasses = this._validationClasses.filter(\n        (c) => c !== 'show',\n      );\n    }\n  }\n\n  private _renderChevron() {\n    const classes = {\n      'c-input-menu__chevron': true,\n      'c-input-menu__chevron--active': this.menuVisible,\n    };\n\n    return (\n      <svg class={classes} viewBox=\"0 0 24 24\">\n        <path d={mdiChevronDown} />\n      </svg>\n    );\n  }\n\n  private _renderInputElement() {\n    return (\n      <div class=\"c-input-menu__input\" onClick={() => this._showMenu()}>\n        <input\n          aria-controls={'results_' + this._id}\n          aria-readonly=\"true\"\n          aria-haspopup=\"listbox\"\n          id={this._inputId}\n          ref={(el) => (this._inputElement = el as HTMLInputElement)}\n          autocomplete=\"off\"\n          class=\"c-input__input\"\n          type=\"text\"\n          value={this._getLabel() ?? null}\n          name={this.name ?? null}\n          readonly=\"true\"\n        />\n      </div>\n    );\n  }\n\n  private _renderMenu(style) {\n    return (\n      <div\n        class={{\n          'c-input-menu__item-wrapper': true,\n          'c-input-menu__item-wrapper--shadow': this.shadow,\n        }}\n      >\n        <ul\n          id={'results_' + this._id}\n          aria-activedescendant={this.activeListItemId}\n          aria-expanded={this.menuVisible.toString()}\n          style={style}\n          title={this.label || this.placeholder}\n          class={\n            this.menuVisible\n              ? 'c-input-menu__items'\n              : 'c-input-menu__items c-input-menu__items--hidden'\n          }\n          role=\"listbox\"\n          ref={(el) => (this._listElement = el as HTMLUListElement)}\n        >\n          {this.items.map((item, index) => this._getListItem(item, index))}\n        </ul>\n      </div>\n    );\n  }\n\n  private _updateStatusText() {\n    // this.statusText = '';\n\n    if (this._debounce !== null) {\n      clearTimeout(this._debounce);\n      this._debounce = null;\n    }\n\n    this._debounce = window.setTimeout(() => {\n      const ending = !!this.items.length\n        ? ', to navigate use up and down arrows'\n        : '';\n\n      const selection = this.host.shadowRoot.querySelector(\n        'li[aria-selected=\"true\"]',\n      );\n\n      const selectionText = !!selection\n        ? `${selection.innerHTML} ${selection.ariaPosInSet} of ${selection.ariaSetSize} is highlighted`\n        : null;\n\n      this.statusText = `${selectionText || ending}`;\n\n      this._debounce = null;\n    }, 1400);\n  }\n\n  render() {\n    let itemsPerPageStyle = {};\n\n    if (\n      this.itemsPerPage &&\n      this.itemsPerPage > 0 &&\n      this.items.length > this.itemsPerPage\n    ) {\n      itemsPerPageStyle = {\n        'max-height': 48 * this.itemsPerPage + 'px',\n        'overflow-y': 'scroll',\n      };\n    }\n\n    return (\n      <Host\n        ref={(el) => registerClickOutside(this, el, () => this._hideMenu())}\n      >\n        <div\n          id={'announce-' + this._id}\n          class=\"visuallyhidden\"\n          aria-live=\"polite\"\n          aria-atomic=\"true\"\n        >\n          {this.statusText}\n        </div>\n\n        <c-input\n          autofocus={this.autofocus}\n          disabled={this.disabled}\n          hide-details={this.hideDetails}\n          hint={this.hint}\n          id={this.hostId}\n          input-id={this._inputId}\n          label={this.label}\n          name={this.name}\n          placeholder={this.placeholder}\n          required={this.required}\n          shadow={this.shadow}\n          valid={this.valid}\n          validate={this.validate}\n          validate-on-blur={this.validateOnBlur}\n          validation={this.validation}\n          value={this.value}\n          variant=\"select\"\n        >\n          <slot name=\"pre\" slot=\"pre\"></slot>\n\n          <div class=\"c-input__content\">\n            {this._renderInputElement()}\n            {this._renderMenu(itemsPerPageStyle)}\n            {this._renderChevron()}\n          </div>\n\n          <slot name=\"post\" slot=\"post\"></slot>\n        </c-input>\n\n        <slot></slot>\n      </Host>\n    );\n  }\n}\n"]}